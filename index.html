<!DOCTYPE html>
<html>
<head>
    <title>许祭的随机音MAD</title>
    <script type="text/javascript">
        let sites = [];

        // 加载 JSON
        fetch("sites.json")
            .then(response => response.json())
            .then(data => {
                sites = data.random_sites;
                // 显示数量
                document.getElementById("count").textContent = `随机库现有 ${sites.length} 个音MAD`;
            })
            .catch(err => {
                console.error("加载 JSON 出错：", err);
                document.getElementById("count").textContent = "加载失败，请检查配置。";
            });

        // 随机跳转
        function goRandom() {
            if (sites.length > 0) {
                const random_site = sites[Math.floor(Math.random() * sites.length)];
                window.open(random_site, "_blank");
            }
        }
    </script>
</head>
<body style="text-align:center; font-family: sans-serif; margin-top: 50px;">
    <h2 id="count">正在加载中...</h2>
    <button onclick="goRandom()" style="padding:10px 20px; font-size:16px; cursor:pointer;">
        随机
    </button>
</body>
</html>
